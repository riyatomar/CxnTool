# Overview

The Construction Tool processes JSON inputs generated by the Hindi Parser and NER (Named Entity Recognition) tools to identify various linguistic constructions such as spans, noun compounds, complex predicates, calendar, measurements, conjunctions, disjunctions, spatial references, and named entities.

# Input Format Structure

The tool accepts input in JSON format containing outputs from the Parser and NER tools.

1. NER Tool

{
    "data": [
        {
            "annotation": [
                {
                    "annotation": "B-PER",
                    "word": "राम"
                },
                {
                    "annotation": "O",
                    "word": "ने"
                },
                {
                    "annotation": "O",
                    "word": "10"
                },
                {
                    "annotation": "O",
                    "word": "किलो"
                },
                {
                    "annotation": "O",
                    "word": "से"
                },
                {
                    "annotation": "O",
                    "word": "लेकर"
                },
                {
                    "annotation": "O",
                    "word": "20"
                },
                {
                    "annotation": "O",
                    "word": "किलो"
                },
                {
                    "annotation": "O",
                    "word": "तक"
                },
                {
                    "annotation": "O",
                    "word": "वजन"
                },
                {
                    "annotation": "O",
                    "word": "उठाया"
                },
                {
                    "annotation": "O",
                    "word": "।"
                }
            ],
            "project_id": "1",
            "sentence": "राम ने 10 किलो से लेकर 20 किलो तक वजन उठाया ।",
            "sentence_id": "1"
        }
    ],
    "response_for": "USR"
}

2. Hindi Parser

{
    "response": [
        {
            "parser_output": [
                {
                    "dependency_relation": "k1",
                    "head_index": "11",
                    "index": 1,
                    "original_word": "राम",
                    "pos_tag": "NNP"
                },
                {
                    "dependency_relation": "lwg__psp",
                    "head_index": "1",
                    "index": 2,
                    "original_word": "ने",
                    "pos_tag": "PSP"
                },
                {
                    "dependency_relation": "card",
                    "head_index": "4",
                    "index": 3,
                    "original_word": "10",
                    "pos_tag": "QC"
                },
                {
                    "dependency_relation": "rsp",
                    "head_index": "8",
                    "index": 4,
                    "original_word": "किलो",
                    "pos_tag": "NN"
                },
                {
                    "dependency_relation": "lwg__psp",
                    "head_index": "4",
                    "index": 5,
                    "original_word": "से",
                    "pos_tag": "PSP"
                },
                {
                    "dependency_relation": "lwg__psp",
                    "head_index": "4",
                    "index": 6,
                    "original_word": "लेकर",
                    "pos_tag": "PSP"
                },
                {
                    "dependency_relation": "card",
                    "head_index": "8",
                    "index": 7,
                    "original_word": "20",
                    "pos_tag": "QC"
                },
                {
                    "dependency_relation": "k7t",
                    "head_index": "11",
                    "index": 8,
                    "original_word": "किलो",
                    "pos_tag": "NN"
                },
                {
                    "dependency_relation": "lwg__psp",
                    "head_index": "8",
                    "index": 9,
                    "original_word": "तक",
                    "pos_tag": "PSP"
                },
                {
                    "dependency_relation": "k2",
                    "head_index": "11",
                    "index": 10,
                    "original_word": "वजन",
                    "pos_tag": "NN"
                },
                {
                    "dependency_relation": "main",
                    "head_index": "0",
                    "index": 11,
                    "original_word": "उठाया",
                    "pos_tag": "VM"
                },
                {
                    "dependency_relation": "rsym",
                    "head_index": "11",
                    "index": 12,
                    "original_word": "।",
                    "pos_tag": "SYM"
                }
            ],
            "project_id": "1",
            "sentence": "राम ने 10 किलो से लेकर 20 किलो तक वजन उठाया ।",
            "sentence_id": "1"
        }
    ]
}

# Output Format Structure

The Construction Tool outputs data in structured JSON format that merges insights from the Parser and NER tools.

1. JSOM Output Format

    {
    "response": [
        {
            "parser_output": [
                {
                    "dependency_relation": "k1",
                    "head_index": "11",
                    "index": 1,
                    "original_word": "राम",
                    "pos_tag": "NNP",
                    "wx_word": "rAma",
                    "cnx_index": 13,
                    "cnx_component": "begin"
                },
                {
                    "dependency_relation": "lwg__psp",
                    "head_index": "1",
                    "index": 2,
                    "original_word": "ने",
                    "pos_tag": "PSP",
                    "wx_word": "ne"
                },
                {
                    "dependency_relation": "card",
                    "head_index": "4",
                    "index": 3,
                    "original_word": "10",
                    "pos_tag": "QC",
                    "wx_word": "10",
                    "cnx_index": 14,
                    "cnx_component": "count"
                },
                {
                    "dependency_relation": "rsp",
                    "head_index": "8",
                    "index": 4,
                    "original_word": "किलो",
                    "pos_tag": "NN",
                    "wx_word": "kilo",
                    "cnx_index": 14,
                    "cnx_component": "unit"
                },
                {
                    "dependency_relation": "lwg__psp",
                    "head_index": "4",
                    "index": 5,
                    "original_word": "से",
                    "pos_tag": "PSP",
                    "wx_word": "se"
                },
                {
                    "dependency_relation": "lwg__psp",
                    "head_index": "4",
                    "index": 6,
                    "original_word": "लेकर",
                    "pos_tag": "PSP",
                    "wx_word": "lekara"
                },
                {
                    "dependency_relation": "card",
                    "head_index": "8",
                    "index": 7,
                    "original_word": "20",
                    "pos_tag": "QC",
                    "wx_word": "20",
                    "cnx_index": 15,
                    "cnx_component": "count"
                },
                {
                    "dependency_relation": "k7t",
                    "head_index": "11",
                    "index": 8,
                    "original_word": "किलो",
                    "pos_tag": "NN",
                    "wx_word": "kilo",
                    "cnx_index": 15,
                    "cnx_component": "unit"
                },
                {
                    "dependency_relation": "lwg__psp",
                    "head_index": "8",
                    "index": 9,
                    "original_word": "तक",
                    "pos_tag": "PSP",
                    "wx_word": "waka"
                },
                {
                    "dependency_relation": "k2",
                    "head_index": "11",
                    "index": 10,
                    "original_word": "वजन",
                    "pos_tag": "NN",
                    "wx_word": "vajana"
                },
                {
                    "dependency_relation": "main",
                    "head_index": "0",
                    "index": 11,
                    "original_word": "उठाया",
                    "pos_tag": "VM",
                    "wx_word": "uTAyA"
                },
                {
                    "dependency_relation": "rsym",
                    "head_index": "11",
                    "index": 12,
                    "original_word": "।",
                    "pos_tag": "SYM",
                    "wx_word": "."
                },
                {
                    "index": 13,
                    "original_word": "per_1",
                    "wx_word": "[ne_1]",
                    "dependency_relation": "k1",
                    "head_index": "11"
                },
                {
                    "index": 14,
                    "original_word": "[meas_1]",
                    "wx_word": "[meas_1]",
                    "dependency_relation": "rsp",
                    "head_index": "8",
                    "cnx_index": 16,
                    "cnx_component": "start"
                },
                {
                    "index": 15,
                    "original_word": "[meas_2]",
                    "wx_word": "[meas_2]",
                    "dependency_relation": "k7t",
                    "head_index": "11",
                    "cnx_index": 16,
                    "cnx_component": "end"
                },
                {
                    "index": 16,
                    "original_word": "[span_1]",
                    "wx_word": "[span_1]",
                    "dependency_relation": "k7t",
                    "head_index": "11"
                }
            ],
            "project_id": "1",
            "sentence": "राम ने 10 किलो से लेकर 20 किलो तक वजन उठाया ।",
            "sentence_id": "1"
        }
    ]
}

2. TSV Output Format

    <sentence_id=1>
    1	rAma	राम	NNP	11	k1	13	begin
    2	ne	ने	PSP	1	lwg__psp	-	-
    3	10	10	QC	4	card	14	count
    4	kilo	किलो	NN	8	rsp	14	unit
    5	se	से	PSP	4	lwg__psp	-	-
    6	lekara	लेकर	PSP	4	lwg__psp	-	-
    7	20	20	QC	8	card	15	count
    8	kilo	किलो	NN	11	k7t	15	unit
    9	waka	तक	PSP	8	lwg__psp	-	-
    10	vajana	वजन	NN	11	k2	-	-
    11	uTAyA	उठाया	VM	0	main	-	-
    12	.	।	SYM	11	rsym	-	-
    13	[ne_1]	per_1	-	11	k1	-	-
    14	[meas_1]	[meas_1]	-	8	rsp	16	start
    15	[meas_2]	[meas_2]	-	11	k7t	16	end
    16	[span_1]	[span_1]	-	11	k7t	-	-
    </sentence_id>


# Usage

1. Place the input JSON files (from Parser and NER) within IO directory.

2. Run the main script:
    - python3 main.py 

3. To get the output in tsv format, run the following command after running the main.py:
    - python3 json2tsv.py

# Folder Structure

    CxnTool
    ├── constant
    │   ├── cc.py
    │   ├── units.py
    ├── IO
    │   ├── parser.json
    │   ├── ner.json
    |   ├── cxn_output.json
    │   ├── cxn_output.tsv
    ├── scripts
    │   ├── calendar_handler.py
    │   ├── compound_handler.py
    │   ├── conj_disjunct_handler.py
    │   ├── cp_handler.py
    |   ├── meas_handler.py
    │   ├── nc_handler.py
    │   ├── ner_handler.py
    │   ├── span_handler.py
    |   ├── spatial_handler.py
    │   ├── text_utils.py
    │   ├── file_utils.py
    ├── main.py
    ├── json2tsv.py
    ├── README.md